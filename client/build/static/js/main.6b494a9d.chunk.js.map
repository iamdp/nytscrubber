{"version":3,"sources":["components/Search.js","components/Results.js","components/SavedArticles.js","components/Scrubber.js","App.js","index.js"],"names":["Search","props","react_default","a","createElement","className","onSubmit","handleSubmit","id","type","onChange","handleChange","htmlFor","min","max","handleStartChange","handleEndChange","Results","articles","length","map","article","index","key","data-id","href","url","title","moment","date","format","onClick","handleSave","SavedArticles","this","getSavedArticles","_this","savedArticles","_id","data-index","target","handleRemove","Component","Scrubber","state","search","startDate","endDate","event","setState","value","preventDefault","beginDate","fetch","concat","then","res","json","persist","method","headers","Accept","Content-Type","body","JSON","stringify","parentElement","firstChild","textContent","getAttribute","splicedArticle","splice","savedArticle","Object","toConsumableArray","_this2","BrowserRouter","Link","to","Route","exact","path","render","components_Search","components_Results","components_SavedArticles","App","components_Scrubber","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6b494a9d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = props => (\r\n  <div className=\"container\">\r\n    <h2>Search</h2>\r\n    <div className=\"row\">\r\n      <form className=\"col s12\" onSubmit={props.handleSubmit}>\r\n        <div className=\"row\">\r\n          <div className=\"input-field col s12\">\r\n            <i className=\"material-icons prefix\">title</i>\r\n            <input\r\n              id=\"topic\"\r\n              type=\"text\"\r\n              className=\"validate\"\r\n              onChange={props.handleChange}\r\n            />\r\n            <label htmlFor=\"topic\">Topic</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"input-field col s6\">\r\n            <i className=\"material-icons prefix\">date_range</i>\r\n            <input\r\n              id=\"start_year\"\r\n              type=\"number\"\r\n              className=\"validate\"\r\n              min=\"1800\"\r\n              max=\"2018\"\r\n              onChange={props.handleStartChange}\r\n            />\r\n            <label htmlFor=\"start_year\">Start Year</label>\r\n          </div>\r\n\r\n          <div className=\"input-field col s6\">\r\n            <i className=\"material-icons prefix\">date_range</i>\r\n            <input\r\n              id=\"end_year\"\r\n              type=\"number\"\r\n              className=\"validate\"\r\n              min=\"1800\"\r\n              max=\"2018\"\r\n              onChange={props.handleEndChange}\r\n            />\r\n            <label htmlFor=\"end_year\">End Year</label>\r\n          </div>\r\n        </div>\r\n        <button className=\"btn\">Search</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport \"../css/Results.css\";\r\n\r\nconst Results = props => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Results</h2>\r\n      {props.articles.length ? null : (\r\n        <p>Perform a search to display results.</p>\r\n      )}\r\n      {props.articles.map((article, index) => (\r\n        <div className=\"article\" key={index} data-id={index}>\r\n          <p>\r\n            <a href={article.url}>{article.title}</a>\r\n          </p>\r\n          <p>Date Published: {moment(article.date).format(\"MMMM Do YYYY\")}</p>\r\n          <button className=\"btn\" onClick={props.handleSave}>\r\n            Save\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import React, { Component } from \"react\";\r\nimport \"../css/SavedArticles.css\";\r\nimport moment from \"moment\";\r\n\r\nclass SavedArticles extends Component {\r\n  componentDidMount() {\r\n    this.props.getSavedArticles();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h2>Saved Articles</h2>\r\n        {this.props.savedArticles.map((article, index) => (\r\n          <div\r\n            className=\"saved-article\"\r\n            key={index}\r\n            data-id={article._id}\r\n            data-index={index}\r\n          >\r\n            <p>\r\n              <a href={article.url} target=\"_new\">\r\n                {article.title}\r\n              </a>\r\n            </p>\r\n            <p>Date Saved: {moment(article.date).format(\"MMMM Do YYYY\")}</p>\r\n            <button className=\"btn\" onClick={this.props.handleRemove}>\r\n              Remove\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SavedArticles;\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\n\r\nimport Search from \"./Search\";\r\nimport Results from \"./Results\";\r\nimport SavedArticles from \"./SavedArticles\";\r\n\r\nimport \"../css/Scrubber.css\";\r\n\r\nclass Scrubber extends Component {\r\n  state = {\r\n    search: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n    articles: [],\r\n    savedArticles: []\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ search: event.target.value });\r\n  };\r\n\r\n  handleStartChange = event => {\r\n    this.setState({ startDate: event.target.value });\r\n  };\r\n\r\n  handleEndChange = event => {\r\n    this.setState({ endDate: event.target.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    let beginDate = this.state.startDate || 1900;\r\n    beginDate += \"0101\";\r\n    let endDate = this.state.endDate || 2018;\r\n    endDate += \"1231\";\r\n\r\n    fetch(\r\n      `https://dreadful-corpse-71723.herokuapp.com/api/scrub/${\r\n        this.state.search\r\n      }/${beginDate}/${endDate}`\r\n    )\r\n      .then(res => res.json())\r\n      .then(articles => {\r\n        this.setState({ articles });\r\n      });\r\n  };\r\n\r\n  handleSave = event => {\r\n    event.persist();\r\n    fetch(\"https://dreadful-corpse-71723.herokuapp.com/api/saveArticle\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain, */*\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        title: event.target.parentElement.firstChild.firstChild.textContent,\r\n        url: event.target.parentElement.firstChild.firstChild.getAttribute(\r\n          \"href\"\r\n        )\r\n      })\r\n    }).then(res => {\r\n      let articles = this.state.articles;\r\n      const splicedArticle = articles.splice(\r\n        event.target.parentElement.getAttribute(\"data-id\"),\r\n        1\r\n      )[0];\r\n      const savedArticle = {\r\n        title: splicedArticle.title,\r\n        url: splicedArticle.url,\r\n        date: \"Just Now\"\r\n      };\r\n\r\n      this.setState({\r\n        savedArticles: [...this.state.savedArticles, savedArticle]\r\n      });\r\n      this.setState({\r\n        articles\r\n      });\r\n    });\r\n  };\r\n\r\n  handleRemove = event => {\r\n    event.persist();\r\n    fetch(\r\n      `https://dreadful-corpse-71723.herokuapp.com/api/deletedSavedArticle/${event.target.parentElement.getAttribute(\r\n        \"data-id\"\r\n      )}`,\r\n      { method: \"DELETE\" }\r\n    ).then(res => {\r\n      let articles = this.state.savedArticles;\r\n      articles.splice(event.target.parentElement.getAttribute(\"data-index\"), 1);\r\n\r\n      this.setState({\r\n        savedArticles: articles\r\n      });\r\n    });\r\n  };\r\n\r\n  getSavedArticles = event => {\r\n    fetch(\"https://dreadful-corpse-71723.herokuapp.com/api/savedArticles\")\r\n      .then(res => res.json())\r\n      .then(savedArticles => {\r\n        this.setState({ savedArticles });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"App\">\r\n          <nav>\r\n            <div className=\"nav-wrapper blue\">\r\n              <ul id=\"nav-mobile\" className=\"left hide-on-med-and-down\">\r\n                <li>\r\n                  <Link to=\"/\">Search</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/savedArticles\">Saved Articles</Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n          <header className=\"App-header\">\r\n            <div className=\"container\">\r\n              <h1>New York Times Article Scrubber</h1>\r\n              <h4>Search for and annotate articles of interest!</h4>\r\n            </div>\r\n          </header>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={props => (\r\n              <div>\r\n                <Search\r\n                  handleChange={this.handleChange}\r\n                  handleSubmit={this.handleSubmit}\r\n                  handleStartChange={this.handleStartChange}\r\n                  handleEndChange={this.handleEndChange}\r\n                />\r\n                <Results\r\n                  articles={this.state.articles}\r\n                  handleSave={this.handleSave}\r\n                />\r\n              </div>\r\n            )}\r\n          />\r\n\r\n          <Route\r\n            exact\r\n            path=\"/savedArticles\"\r\n            render={props => (\r\n              <SavedArticles\r\n                handleRemove={this.handleRemove}\r\n                savedArticles={this.state.savedArticles}\r\n                getSavedArticles={this.getSavedArticles}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Scrubber;\r\n","import React, { Component } from \"react\";\n\nimport Scrubber from \"./components/Scrubber\";\n\nclass App extends Component {\n  render() {\n    return <Scrubber />;\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}