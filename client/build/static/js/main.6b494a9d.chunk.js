(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(33)},21:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),i=(a(21),a(5)),s=a(6),d=a(8),o=a(7),m=a(9),u=a(15),h=a(37),p=a(35),v=a(36),E=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Search"),r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s12",onSubmit:e.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("i",{className:"material-icons prefix"},"title"),r.a.createElement("input",{id:"topic",type:"text",className:"validate",onChange:e.handleChange}),r.a.createElement("label",{htmlFor:"topic"},"Topic"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("i",{className:"material-icons prefix"},"date_range"),r.a.createElement("input",{id:"start_year",type:"number",className:"validate",min:"1800",max:"2018",onChange:e.handleStartChange}),r.a.createElement("label",{htmlFor:"start_year"},"Start Year")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("i",{className:"material-icons prefix"},"date_range"),r.a.createElement("input",{id:"end_year",type:"number",className:"validate",min:"1800",max:"2018",onChange:e.handleEndChange}),r.a.createElement("label",{htmlFor:"end_year"},"End Year"))),r.a.createElement("button",{className:"btn"},"Search"))))},f=a(10),b=a.n(f),g=(a(24),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Results"),e.articles.length?null:r.a.createElement("p",null,"Perform a search to display results."),e.articles.map(function(t,a){return r.a.createElement("div",{className:"article",key:a,"data-id":a},r.a.createElement("p",null,r.a.createElement("a",{href:t.url},t.title)),r.a.createElement("p",null,"Date Published: ",b()(t.date).format("MMMM Do YYYY")),r.a.createElement("button",{className:"btn",onClick:e.handleSave},"Save"))}))}),S=(a(26),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getSavedArticles()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Saved Articles"),this.props.savedArticles.map(function(t,a){return r.a.createElement("div",{className:"saved-article",key:a,"data-id":t._id,"data-index":a},r.a.createElement("p",null,r.a.createElement("a",{href:t.url,target:"_new"},t.title)),r.a.createElement("p",null,"Date Saved: ",b()(t.date).format("MMMM Do YYYY")),r.a.createElement("button",{className:"btn",onClick:e.props.handleRemove},"Remove"))}))}}]),t}(n.Component)),A=(a(28),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",startDate:"",endDate:"",articles:[],savedArticles:[]},a.handleChange=function(e){a.setState({search:e.target.value})},a.handleStartChange=function(e){a.setState({startDate:e.target.value})},a.handleEndChange=function(e){a.setState({endDate:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.startDate||1900;t+="0101";var n=a.state.endDate||2018;n+="1231",fetch("https://dreadful-corpse-71723.herokuapp.com/api/scrub/".concat(a.state.search,"/").concat(t,"/").concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({articles:e})})},a.handleSave=function(e){e.persist(),fetch("https://dreadful-corpse-71723.herokuapp.com/api/saveArticle",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({title:e.target.parentElement.firstChild.firstChild.textContent,url:e.target.parentElement.firstChild.firstChild.getAttribute("href")})}).then(function(t){var n=a.state.articles,r=n.splice(e.target.parentElement.getAttribute("data-id"),1)[0],l={title:r.title,url:r.url,date:"Just Now"};a.setState({savedArticles:Object(u.a)(a.state.savedArticles).concat([l])}),a.setState({articles:n})})},a.handleRemove=function(e){e.persist(),fetch("https://dreadful-corpse-71723.herokuapp.com/api/deletedSavedArticle/".concat(e.target.parentElement.getAttribute("data-id")),{method:"DELETE"}).then(function(t){var n=a.state.savedArticles;n.splice(e.target.parentElement.getAttribute("data-index"),1),a.setState({savedArticles:n})})},a.getSavedArticles=function(e){fetch("https://dreadful-corpse-71723.herokuapp.com/api/savedArticles").then(function(e){return e.json()}).then(function(e){a.setState({savedArticles:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper blue"},r.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(p.a,{to:"/"},"Search")),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/savedArticles"},"Saved Articles"))))),r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"New York Times Article Scrubber"),r.a.createElement("h4",null,"Search for and annotate articles of interest!"))),r.a.createElement(v.a,{exact:!0,path:"/",render:function(t){return r.a.createElement("div",null,r.a.createElement(E,{handleChange:e.handleChange,handleSubmit:e.handleSubmit,handleStartChange:e.handleStartChange,handleEndChange:e.handleEndChange}),r.a.createElement(g,{articles:e.state.articles,handleSave:e.handleSave}))}}),r.a.createElement(v.a,{exact:!0,path:"/savedArticles",render:function(t){return r.a.createElement(S,{handleRemove:e.handleRemove,savedArticles:e.state.savedArticles,getSavedArticles:e.getSavedArticles})}})))}}]),t}(n.Component)),N=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(A,null)}}]),t}(n.Component);c.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.6b494a9d.chunk.js.map